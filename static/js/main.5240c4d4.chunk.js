(this["webpackJsonpgame-ranking"]=this["webpackJsonpgame-ranking"]||[]).push([[0],{318:function(e,t,a){},486:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),c=a.n(i),s=(a(318),a(23)),o=a(114),l=a.n(o),d=a(251),u=a(17),j=a(286),b=a(528),h=a(583),O=a(573),m=a(530),p=a(531),g=a(101),f=a(85),x=a.n(f),y=a(1),v=Object(b.a)((function(e){return Object(h.a)({root:{flexGrow:1,marginBottom:e.spacing(4)},AppBar:{background:"radial-gradient(circle, rgba(63,94,251,1) 0%, rgba(252,70,107,1) 110%)"},EmojiEvents:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));function k(){var e=v();return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(m.a,{className:e.AppBar,position:"static",children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(x.a,{className:e.EmojiEvents}),Object(y.jsx)(g.a,{variant:"h6",className:e.title,children:"Game Ranking"})]})})})}var C=a(532),w=a(533),S=a(256),R=a.n(S),N=a(257),D=a.n(N),P=a(255),F=a.n(P),E=a(258),I=a.n(E),_=a(259),G=a.n(_),M=Object(b.a)((function(e){return Object(h.a)({root:{flexGrow:1,backgroundColor:e.palette.secondary.main,width:"100%",position:"fixed",bottom:0,zIndex:100}})}));function A(e){var t=M(),a=e.currentPage;return Object(y.jsxs)(C.a,{value:a,onChange:e.handleChangeCurrentPage,className:t.root,children:[Object(y.jsx)(w.a,{label:"Games",value:"games",icon:"games"===a?Object(y.jsx)(x.a,{}):Object(y.jsx)(F.a,{})}),Object(y.jsx)(w.a,{label:"Players",value:"players",icon:"players"===a?Object(y.jsx)(R.a,{}):Object(y.jsx)(D.a,{})}),Object(y.jsx)(w.a,{label:"Settings",value:"settings",icon:"settings"===a?Object(y.jsx)(I.a,{}):Object(y.jsx)(G.a,{})})]})}var B=a(547),z=a(534),U=a(535),L=a(490),H=a(260),K=a.n(H),T=a(109),W=Object(b.a)((function(e){return Object(h.a)({root:{padding:e.spacing(1)}})}));function J(e){var t=W();return Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(U.a,{children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",spacing:2,className:t.root,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(g.a,{children:[e.players.length," player(s)"]})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(L.a,{variant:"contained",color:"primary",startIcon:Object(y.jsx)(K.a,{}),onClick:function(){return function(){var t=a(327)(),n={uuid:Object(T.uuid)(),username:"New Player",color:t};e.setPlayers(e.players.concat(n)),e.setCurrentPlayer({player:n,edit:!0})}()},children:"Add a new player"})})]})})})}var Z=a(536),Y=a(537),V=a(261),q=a.n(V),Q=function(e,t){return e.filter((function(e){return e.uuid===t}))[0]},X=function(e,t){return e.filter((function(e){return e.uuid===t}))[0]},$=function(e){return e.username.length>1?e.username[0].toUpperCase()+e.username[1]:e.username[0].toUpperCase()},ee=function(e){if(!e.results)return[];var t=[];t.push({resultUuid:"",playersRank:[]}),t[0].playersRank=e.players.map((function(e){return{playerUuid:e.uuid,score:1200,deltaScore:0}}));var a=t[0],n={};return e.results.sort((function(e,t){return e.date>=t.date?1:-1})).forEach((function(r){var i=te(r,a,n,e.algorithmSettings);t.push(i),a=i})),t},te=function(e,t,a,n){var r={resultUuid:e.uuid,playersRank:[]};t.playersRank.forEach((function(e){r.playersRank.push({playerUuid:e.playerUuid,score:e.score,deltaScore:e.deltaScore})}));for(var i={},c=function(t){i[t+1]=e.ranks.filter((function(e){return t+1===e.rank})).length},s=0;s<e.ranks.length;s++)c(s);return e.ranks.forEach((function(i){a[i.uuid]||(a[i.uuid]=0);var c=e.ranks.filter((function(e){return i.rank!==e.rank})),s=ae(i.uuid,r),o=t.playersRank[ae(i.uuid,t)].score,l=0,d=n.params,u=function(e,t,a,n){return n<t?e:a}(d.k_first,d.n_first,d.k,a[i.uuid]);c.forEach((function(e){var a,n,r=t.playersRank[ae(e.uuid,t)].score,c=i.rank<e.rank?1:0,s=(a=o,n=r,1/(1+Math.pow(10,(n-a)/400))),d=function(e,t,a,n){return e+n*(a-t)/(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)}(o,s,c,u);l+=d-o})),r.playersRank[s].score=o+l,r.playersRank[s].deltaScore=l,a[i.uuid]+=1})),r},ae=function(e,t){return t.playersRank.findIndex((function(t){return t.playerUuid===e}))},ne=function(e){var t=[];return e.forEach((function(e){return t.push(re(e))})),t},re=function(e){var t={};return t.resultUuid=e.resultUuid,e.playersRank.forEach((function(e){return t[e.playerUuid]=Math.round(e.score)})),t},ie=function(e){var t={gamename:e.gamename,uuid:e.uuid,players:[],results:[],rankHistory:[],algorithmSettings:e.algorithmSettings};if(t.algorithmSettings||(t.algorithmSettings={algo:"elo",params:{k_first:40,n_first:5,k:25}}),e.results.forEach((function(e){var a=e;a.date=new Date(a.date),t.results.push(a),a.ranks.forEach((function(e){var a;t.players?t.players.some((function(t){return t.uuid===e.uuid}))||null===(a=t.players)||void 0===a||a.push({uuid:e.uuid,rank:0}):t.players=[{uuid:e.uuid,rank:0}]}))})),t.rankHistory=ee(t),t.players){var a=t.players.sort((function(e,t){return e.rank>t.rank?1:-1}));t.players=a}return t},ce=function(e){var t=[];return e.results.forEach((function(e){e.ranks.forEach((function(e){t.some((function(t){return t.uuid===e.uuid}))||t.push({uuid:e.uuid,rank:0})}))})),t},se=function(e,t,a){var n=0;return e.forEach((function(e){e.results.forEach((function(e){var r=e.ranks.filter((function(e){return e.uuid===t}));r.length&&r[0].rank===a&&(n+=1)}))})),n},oe=Object(b.a)((function(e){return Object(h.a)({Padding:{padding:e.spacing(2)},first:{color:"#FFD700"},second:{color:"#C0C0C0"},third:{color:"#cd7f32"},ColorPicker:{position:"absolute",zIndex:2},Name:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),borderRadius:e.spacing(1),margin:"0px",border:"1px solid rgba(0,0,0,0.1)",width:e.spacing(17)}})}));function le(e){var t=oe();return Object(y.jsx)(z.a,{item:!0,spacing:1,onClick:function(){return e.setCurrentPlayer({player:e.player,edit:!1})},children:Object(y.jsx)(U.a,{className:t.Padding,children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",spacing:1,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Z.a,{size:"small",children:Object(y.jsx)(q.a,{style:{color:e.player.color}})})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{children:e.player.username})})]})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(z.a,{container:!0,item:!0,direction:"row",justify:"space-between",alignItems:"baseline",spacing:1,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Y.a,{badgeContent:se(e.games,e.player.uuid,1),showZero:!0,className:t.first,color:"primary",children:Object(y.jsx)(x.a,{})})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Y.a,{badgeContent:se(e.games,e.player.uuid,2),showZero:!0,className:t.second,color:"primary",children:Object(y.jsx)(x.a,{})})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Y.a,{badgeContent:se(e.games,e.player.uuid,3),showZero:!0,className:t.third,color:"primary",children:Object(y.jsx)(x.a,{})})})]})})]})})})}var de=a(545),ue=a(544),je=a(546),be=a(581),he=a(539),Oe=a(540),me=a(541),pe=a(542),ge=a(543),fe=a(284);function xe(e){var t=r.a.useState(e.player),a=Object(u.a)(t,2),n=a[0],i=a[1];return Object(y.jsxs)(be.a,{open:!0,onClose:function(t,a){"clickaway"!==a&&e.setEditMode(!1)},children:[Object(y.jsx)(he.a,{children:"Edit player"}),Object(y.jsxs)(Oe.a,{children:[Object(y.jsx)(me.a,{children:Object(y.jsx)(pe.a,{value:n.username,onChange:function(e){return i(Object(s.a)(Object(s.a)({},n),{},{username:e.target.value}))}})}),Object(y.jsx)(me.a,{children:Object(y.jsx)(fe.a,{color:n.color,onChangeComplete:function(e){return i(Object(s.a)(Object(s.a)({},n),{},{color:e.hex}))},disableAlpha:!0})})]}),Object(y.jsxs)(ge.a,{children:[Object(y.jsx)(L.a,{onClick:function(){return e.setEditMode(!1)},autoFocus:!0,children:"Cancel"}),Object(y.jsx)(L.a,{onClick:function(){e.handleChangePlayer(n),e.setEditMode(!1)},variant:"outlined",children:"Update"})]})]})}var ye=Object(b.a)((function(e){return Object(h.a)({Main:{padding:e.spacing(2),marginBottom:e.spacing(1)},ColorPicker:{position:"absolute",zIndex:2},Name:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),borderRadius:e.spacing(1),margin:"0px",border:"1px solid rgba(0,0,0,0.1)",width:e.spacing(17)}})}));function ve(e){var t=ye(),a=r.a.useState(e.edit),n=Object(u.a)(a,2),i=n[0],c=n[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(U.a,{className:t.Main,children:Object(y.jsxs)(z.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch",spacing:1,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Z.a,{size:"medium",onClick:function(){return e.setCurrentPlayer({player:void 0,edit:!1})},children:Object(y.jsx)(ue.a,{})})})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(de.a,{disableElevation:!0,variant:"contained",color:"primary",children:Object(y.jsx)(L.a,{onClick:function(){return c(!0)},children:Object(y.jsx)(je.a,{})})})})]})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{style:{color:e.player.color},variant:"h3",align:"center",children:e.player.username})})]})}),i&&Object(y.jsx)(xe,{setEditMode:c,handleChangePlayer:function(t){e.changePlayerData(t,t.uuid)},player:e.player})]})}function ke(e){var t,a=Object(n.useState)({player:void 0,edit:!1}),r=Object(u.a)(a,2),i=r[0],c=r[1],s=function(t,a){var n=e.players;n.map((function(e){return e.uuid===a?Object.assign(e,t):e})),e.setPlayers(n)};return Object(y.jsx)(B.a,{children:i.player?Object(y.jsx)(ve,{player:i.player,edit:i.edit,changePlayerData:s,addNotification:e.addNotification,setCurrentPlayer:c}):Object(y.jsxs)(z.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",spacing:1,children:[Object(y.jsx)(J,{players:e.players,setPlayers:e.setPlayers,setCurrentPlayer:c}),(t=e.players,t.map((function(t){return Object(y.jsx)(le,{player:t,games:e.games,changePlayerData:s,setCurrentPlayer:c})})))]})})}var Ce=a(548),we=a(549),Se=a(100),Re=a.n(Se),Ne=Object(b.a)((function(e){return Object(h.a)({padding:{padding:e.spacing(1)},subSection:{paddingLeft:e.spacing(1),marginLeft:e.spacing(2),borderLeft:"3px solid rgba(0,0,0,.2)"}})}));function De(e){var t=Ne(),a=Object(Ce.a)("(min-width:600px)");return Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(U.a,{children:Object(y.jsxs)(z.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch",spacing:4,className:t.padding,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{variant:"h4",color:"primary",children:"About..."})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(B.a,{className:t.subSection,children:[Object(y.jsx)(g.a,{variant:"h5",color:"textSecondary",children:"the author"}),Object(y.jsxs)(g.a,{children:["Made with love by ",Object(y.jsx)(we.a,{href:"https://github.com/StephaneBranly",target:"_blank",children:"@stephane_branly"}),"."]})]})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(B.a,{className:t.subSection,children:[Object(y.jsx)(g.a,{variant:"h5",color:"textSecondary",children:"the project"}),Object(y.jsxs)(g.a,{children:["Project made for personal use first. But feel free to use it and to give feedback (positive or negative). You can add ",Object(y.jsx)(we.a,{href:"https://github.com/StephaneBranly/game-ranking/issues",target:"_blank",children:"issues"})," if you want."]})]})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(B.a,{className:t.subSection,children:Object(y.jsxs)(Re.a.Provider,{children:[Object(y.jsx)(g.a,{variant:"h5",color:"textSecondary",children:"the algorithm"}),Object(y.jsxs)(g.a,{children:["Currently, the ",Object(y.jsx)(we.a,{href:"https://en.wikipedia.org/wiki/Elo_rating_system",target:"_blank",children:"ELO"})," algorithm is used."]}),a&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Re.a.Node,{formula:"E_{A} = \\frac{1}{1+10^{(R_{B} - R_{A}) / 400}}, E_{B} = \\frac{1}{1+10^{(R_{A} - R_{B}) / 400}}"}),Object(y.jsx)(Re.a.Node,{formula:"R'_{A} = R_{A} + K(S_{A} - E_{A}), R'_{B} = R_{B} + K(S_{B} - E_{B})"}),Object(y.jsx)(Re.a.Node,{formula:"E (expected), R (rank), K (factor = 32), S (score : 1=win, 0=loss)"})]}),Object(y.jsx)(g.a,{children:"It is adapted to work with more than 2 players and more than 2 teams."}),a&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Re.a.Node,{formula:"E_{P,o} = \\frac{1}{1+10^{(R_{o} - R_{P}) / 400}}"}),Object(y.jsx)(Re.a.Node,{formula:"R'_{P} = R_{P} + \\sum_{i}{K(S_{A} - E_{P,i})},\\ i \\in opponents(P)"})]}),Object(y.jsx)(g.a,{children:"If the project grows, new algorithms can be added and parameterized on the interface."})]})})})]})})})}var Pe=a(290),Fe=a(552),Ee=a(553),Ie=a(555),_e=a(557),Ge=a(554),Me=a(556),Ae=a(558),Be=a(559),ze=a(560),Ue=a(561),Le=Object(b.a)((function(e){return Object(h.a)({padding:{padding:e.spacing(1)}})}));function He(e){var t=Le(),a=r.a.useState(null),n=Object(u.a)(a,2),i=n[0],c=n[1];return Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(U.a,{children:Object(y.jsx)(z.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"baseline",spacing:1,className:t.padding,children:Object(y.jsxs)(z.a,{item:!0,children:[Object(y.jsxs)(Pe.a,{onClose:function(e,t){c(null)},open:null!==i,anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(y.jsx)("input",{style:{display:"none"},accept:".json",id:"contained-button-import",type:"file",onChange:e.handlerLoadData}),Object(y.jsx)("label",{htmlFor:"contained-button-import",children:Object(y.jsxs)(Fe.a,{children:[Object(y.jsx)(Ee.a,{children:Object(y.jsx)(Ge.a,{fontSize:"small"})}),Object(y.jsx)(Ie.a,{children:"Load from file"})]})}),Object(y.jsxs)(Fe.a,{onClick:function(){return e.handlerLoadData(null)},children:[Object(y.jsx)(Ee.a,{children:Object(y.jsx)(Me.a,{fontSize:"small"})}),Object(y.jsx)(Ie.a,{children:"Load from cookies"})]}),Object(y.jsx)(_e.a,{}),Object(y.jsxs)(Fe.a,{onClick:function(){return e.handlerSaveData(!1)},children:[Object(y.jsx)(Ee.a,{children:Object(y.jsx)(Ae.a,{fontSize:"small"})}),Object(y.jsx)(Ie.a,{children:"Save as file"})]}),Object(y.jsxs)(Fe.a,{onClick:function(){return e.handlerSaveData(!0)},children:[Object(y.jsx)(Ee.a,{children:Object(y.jsx)(Me.a,{fontSize:"small"})}),Object(y.jsx)(Ie.a,{children:"Save as cookies"})]}),Object(y.jsx)(_e.a,{}),Object(y.jsxs)(Fe.a,{onClick:function(){return e.handlerResetData(!1)},children:[Object(y.jsx)(Ee.a,{children:Object(y.jsx)(Be.a,{fontSize:"small"})}),Object(y.jsx)(Ie.a,{children:"Delete current session"})]}),Object(y.jsxs)(Fe.a,{onClick:function(){return e.handlerResetData(!0)},children:[Object(y.jsx)(Ee.a,{children:Object(y.jsx)(Be.a,{fontSize:"small"})}),Object(y.jsx)(Ie.a,{children:"Delete cookies"})]})]}),Object(y.jsxs)(de.a,{variant:"contained",color:"primary",children:[Object(y.jsx)(L.a,{endIcon:Object(y.jsx)(ze.a,{}),onClick:function(){return window.open("https://www.paypal.com/paypalme/StephaneBranly","_blank")},children:"Sponsor"}),Object(y.jsx)(L.a,{endIcon:Object(y.jsx)(Ue.a,{}),onClick:function(){return window.open("https://github.com/StephaneBranly/game-ranking","_blank")},children:"GitHub"}),Object(y.jsx)(L.a,{startIcon:Object(y.jsx)(Me.a,{}),onClick:function(e){return c(e.currentTarget)},children:"Data"})]})]})})})})}function Ke(e){return Object(y.jsx)(B.a,{children:Object(y.jsxs)(z.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",spacing:1,children:[Object(y.jsx)(He,Object(s.a)({},e)),Object(y.jsx)(De,{})]})})}var Te=a(266),We=a.n(Te),Je=Object(b.a)((function(e){return Object(h.a)({root:{padding:e.spacing(1)}})}));function Ze(e){var t=Je();return Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(U.a,{children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",spacing:2,className:t.root,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(g.a,{children:[e.games.length," game(s)"]})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(L.a,{variant:"contained",color:"primary",startIcon:Object(y.jsx)(We.a,{}),onClick:function(){return function(){var t={uuid:Object(T.uuid)(),gamename:"New game",results:[],players:[],rankHistory:[],algorithmSettings:{algo:"elo",params:{k_first:40,n_first:5,k:25}}};e.setGames(e.games.concat(t)),e.setCurrentGame({game:t,edit:!0})}()},children:"Add a new game"})})]})})})}var Ye=a(495),Ve=a(562),qe=Object(b.a)((function(e){return Object(h.a)({Padding:{padding:e.spacing(2)},first:{color:"#FFD700"},second:{color:"#C0C0C0"},third:{color:"#cd7f32"},ColorPicker:{position:"absolute",zIndex:2},Name:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),borderRadius:e.spacing(1),margin:"0px",border:"1px solid rgba(0,0,0,0.1)",width:e.spacing(17)}})}));function Qe(e){var t=qe();return Object(y.jsx)(z.a,{item:!0,spacing:1,children:Object(y.jsx)(U.a,{className:t.Padding,onClick:function(){return e.setCurrentGame({game:e.game,edit:!1})},children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",alignContent:"space-between",children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",spacing:1,children:Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{children:e.game.gamename})})})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",spacing:1,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{children:"".concat(e.game.results.length," results | ")})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Ve.a,{max:4,children:e.game.rankHistory[e.game.rankHistory.length-1].playersRank.sort((function(e,t){return e.score<t.score?1:-1})).map((function(t,a){var n=Q(e.players,t.playerUuid);return Object(y.jsx)(Ye.a,{alt:n.username,style:{backgroundColor:n.color},children:$(n)})}))})})]})})]})})})}var Xe=a(564),$e=a(565),et=a(288),tt=a(492),at=a(578),nt=a(551);function rt(e){var t,a=function(t){return 0!==e.selectedPlayers.filter((function(e){return e.uuid===t})).length},n=function(t){a(t)?e.setSelectedPlayers(e.selectedPlayers.filter((function(e){return e.uuid!==t}))):e.setSelectedPlayers([].concat(Object(et.a)(e.selectedPlayers),[{uuid:t,rank:1}]))};return Object(y.jsxs)(Oe.a,{dividers:!0,children:[Object(y.jsx)(g.a,{children:"Who was playing?"}),Object(y.jsx)(nt.a,{children:(t=e.players,t.map((function(e){return Object(y.jsxs)(tt.a,{dense:!0,button:!0,onClick:function(){return n(e.uuid)},children:[Object(y.jsx)(Ee.a,{children:Object(y.jsx)(at.a,{edge:"end",tabIndex:-1,disableRipple:!0,checked:a(e.uuid),onClick:function(){return n(e.uuid)},style:{color:e.color}})}),Object(y.jsx)(Ie.a,{id:e.uuid,primary:e.username})]},e.uuid)})))})]})}var it=a(285),ct=a(38),st=a(574);function ot(e){return Object(y.jsxs)(Oe.a,{dividers:!0,children:[Object(y.jsx)(g.a,{children:"When?"}),Object(y.jsx)(ct.a,{utils:it.a,children:Object(y.jsx)(st.a,{value:e.selectedDate,onChange:function(t){e.setSelectedDate(t)},showTodayButton:!0,format:"dd/MM/yyyy HH:mm"})})]})}var lt=a(580);function dt(e){var t,a=function(t){for(var a=[],n=1;n<e.selectedPlayers.length+1;n++){var r=t.rank?t.rank===n:1===n;a.push(Object(y.jsx)(Fe.a,{selected:r,value:n,children:n},n))}return a};return Object(y.jsxs)(Oe.a,{dividers:!0,children:[Object(y.jsx)(g.a,{children:"Ranks"}),Object(y.jsx)(nt.a,{children:(t=e.selectedPlayers,t.map((function(t){return Object(y.jsx)(tt.a,{dense:!0,button:!0,children:Object(y.jsxs)(z.a,{container:!0,direction:"row",alignItems:"baseline",justify:"space-between",spacing:1,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Ye.a,{alt:t.uuid,style:{backgroundColor:Q(e.players,t.uuid).color},children:$(Q(e.players,t.uuid))})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{children:Q(e.players,t.uuid).username})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(lt.a,{id:t.uuid,defaultValue:t.rank,onChange:function(a){return function(t,a){var n=e.selectedPlayers;n.map((function(e){return e.uuid===a?e.rank=t.target.value:e})),e.setSelectedPlayers(n)}(a,t.uuid)},children:a(t)})})]})},t.uuid)})))})]})}function ut(e){return Object(y.jsxs)(be.a,{open:!0,onClose:function(t,a){"clickaway"!==a&&e.setDeleteResultOpen(!1)},children:[Object(y.jsx)(he.a,{children:"Delete this Result?"}),Object(y.jsx)(Oe.a,{children:Object(y.jsx)(me.a,{children:"This will delete this Result and all associated results."})}),Object(y.jsxs)(ge.a,{children:[Object(y.jsx)(L.a,{onClick:function(){return e.setDeleteResultOpen(!1)},autoFocus:!0,children:"Cancel"}),Object(y.jsx)(L.a,{onClick:function(){return e.deleteResult()},variant:"outlined",style:{color:"#DD0505",borderColor:"#DD0505"},children:"Delete"})]})]})}function jt(e){var t=r.a.useState("who"),a=Object(u.a)(t,2),n=a[0],i=a[1],c=r.a.useState(e.addResultOpen.id?e.game.results.filter((function(t){return t.uuid===e.addResultOpen.id}))[0].date:new Date),s=Object(u.a)(c,2),o=s[0],l=s[1],d=r.a.useState(e.addResultOpen.id?e.game.results.filter((function(t){return t.uuid===e.addResultOpen.id}))[0].ranks:[]),j=Object(u.a)(d,2),b=j[0],h=j[1],O=r.a.useState(!1),m=Object(u.a)(O,2),p=m[0],f=m[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(be.a,{fullWidth:!0,maxWidth:"sm",open:e.addResultOpen.open,children:[e.addResultOpen.id?Object(y.jsx)(he.a,{children:"Edit result"}):Object(y.jsx)(he.a,{children:"New result"}),"who"===n?Object(y.jsx)(rt,{players:e.players,setSelectedPlayers:h,selectedPlayers:b}):"when"===n?Object(y.jsx)(ot,{setSelectedDate:l,selectedDate:o}):"ranks"===n?Object(y.jsx)(dt,{players:e.players,setSelectedPlayers:h,selectedPlayers:b}):Object(y.jsx)(g.a,{children:"ERROR"}),Object(y.jsx)(ge.a,{children:Object(y.jsxs)(de.a,{disableElevation:!0,variant:"contained",color:"primary",children:[Object(y.jsx)(L.a,{onClick:function(){return e.setAddResultOpen({id:void 0,open:!1})},children:"Cancel"}),e.addResultOpen.id&&Object(y.jsx)(L.a,{onClick:function(){return f(!0)},children:Object(y.jsx)(Be.a,{})}),Object(y.jsx)(L.a,{autoFocus:!0,disabled:"who"===n,onClick:function(){"when"===n?i("who"):"ranks"===n&&i("when")},children:Object(y.jsx)(ue.a,{})}),"ranks"===n?Object(y.jsx)(L.a,{autoFocus:!0,onClick:function(){return function(){var t=0,a=!1;if(b.forEach((function(e){0===t&&(t=e.rank),t!==e.rank&&(a=!0)})),a){var n=b.sort((function(e,t){return e.rank>t.rank?1:-1}));h(n);var r={date:o,ranks:b,uuid:Object(T.uuid)()};e.addResultOpen.id?e.addNotification("Result correctly edited","success"):e.addNotification("New result correctly added","success"),e.setAddResultOpen({id:void 0,open:!1}),e.addResult(r,e.addResultOpen.id)}else e.addNotification("Results need at least two different rank","error")}()},endIcon:Object(y.jsx)(Xe.a,{}),children:"Send"}):Object(y.jsx)(L.a,{autoFocus:!0,onClick:function(){return function(){if("who"===n)if(b.length<2)e.addNotification("Please select a least 2 players","error");else{i("when");var t=b.sort((function(t,a){return Q(e.players,t.uuid).username>Q(e.players,a.uuid).username?1:-1}));h(t)}else"when"===n&&i("ranks")}()},children:Object(y.jsx)($e.a,{})})]})})]}),p&&Object(y.jsx)(ut,{setDeleteResultOpen:f,deleteResult:function(){f(!1),e.setAddResultOpen({id:void 0,open:!1}),e.deleteResult(e.addResultOpen.id)}})]})}var bt=a(586),ht=a(585),Ot=a(566),mt=Object(b.a)((function(e){return Object(h.a)({root:{backgroundColor:"rgba(0,0,0,0.9)",marginLeft:e.spacing(3),marginBottom:e.spacing(1),border:"2px solid #FFFFFF",zIndex:0},first:{color:"#FFD700"},second:{color:"#C0C0C0"},third:{color:"#cd7f32"}})}));function pt(e){var t,a=mt(),n="".concat(Math.round(e.score)),r="#FDFDFD";return e.deltaScore&&(n=e.score<0?"".concat(Math.round(e.score)):"+".concat(Math.round(e.score)),r=e.score<0?"#FF2020":"#10FFB0"),Object(y.jsx)(ht.a,{className:a.root,icon:(t=e.rank,1===t?Object(y.jsx)(Ot.a,{className:a.first}):2===t?Object(y.jsx)(Ot.a,{className:a.second}):3===t?Object(y.jsx)(Ot.a,{className:a.third}):Object(y.jsx)(y.Fragment,{})),label:n,size:"small",variant:"outlined",style:{color:r}})}var gt=Object(b.a)((function(e){return Object(h.a)({Padding:{padding:e.spacing(2)},first:{color:"#FFD700"},second:{color:"#C0C0C0"},third:{color:"#cd7f32"},ColorPicker:{position:"absolute",zIndex:2}})}));function ft(e){var t=gt();return Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(U.a,{className:t.Padding,onClick:function(){return e.setAddResultOpen({id:e.result.uuid,open:!0})},children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch",spacing:1,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch",spacing:4,children:e.result.ranks.map((function(t){var a=e.playersRank.filter((function(e){return e.playerUuid===t.uuid}))[0],n="".concat(Q(e.players,t.uuid).username," - New score: ").concat(Math.round(a.score));return Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(bt.a,{title:n,children:Object(y.jsx)(Y.a,{overlap:"circle",style:{borderColor:"rgba(0,0,0,0)"},anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:Object(y.jsx)(pt,{rank:t.rank,score:a.deltaScore,deltaScore:!0}),children:Object(y.jsx)(Ye.a,{alt:Q(e.players,t.uuid).username,style:{backgroundColor:Q(e.players,t.uuid).color},children:$(Q(e.players,t.uuid))})})})})}))})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{children:e.result.date.toLocaleString()})})]})})})}function xt(e){return Object(y.jsxs)(be.a,{open:!0,onClose:function(t,a){"clickaway"!==a&&e.setDeleteGameOpen(!1)},children:[Object(y.jsx)(he.a,{children:"Delete this game?"}),Object(y.jsx)(Oe.a,{children:Object(y.jsx)(me.a,{children:"This will delete this game and all associated results."})}),Object(y.jsxs)(ge.a,{children:[Object(y.jsx)(L.a,{onClick:function(){return e.setDeleteGameOpen(!1)},autoFocus:!0,children:"Cancel"}),Object(y.jsx)(L.a,{onClick:function(){return e.deleteGame()},variant:"outlined",style:{color:"#DD0505",borderColor:"#DD0505"},children:"Delete"})]})]})}var yt=a(579),vt=a(575);function kt(e){var t=r.a.useState(e.currentGame),a=Object(u.a)(t,2),n=a[0],i=a[1];return Object(y.jsxs)(be.a,{open:!0,onClose:function(t,a){"clickaway"!==a&&e.setEditMode(!1)},children:[Object(y.jsx)(he.a,{children:"Change the game settings"}),Object(y.jsxs)(Oe.a,{children:[Object(y.jsx)(me.a,{children:Object(y.jsx)(yt.a,{value:n.gamename,onChange:function(e){return i(Object(s.a)(Object(s.a)({},n),{},{gamename:e.target.value}))},label:"Gamename"})}),Object(y.jsx)(_e.a,{}),Object(y.jsx)(me.a,{children:Object(y.jsxs)(vt.a,{sx:{display:"flex",flexWrap:"wrap",flexDirection:"column"},children:[Object(y.jsx)(lt.a,{value:n.algorithmSettings.algo,label:"Algorithm",children:Object(y.jsx)(Fe.a,{selected:!0,value:"elo",children:"elo"},"elo")}),Object(y.jsx)(yt.a,{label:"K factor for n first games",type:"number",value:n.algorithmSettings.params.k_first,onChange:function(e){return i(Object(s.a)(Object(s.a)({},n),{},{algorithmSettings:Object(s.a)(Object(s.a)({},n.algorithmSettings),{},{params:Object(s.a)(Object(s.a)({},n.algorithmSettings.params),{},{k_first:Number(e.target.value)})})}))}}),Object(y.jsx)(yt.a,{label:"N",type:"number",value:n.algorithmSettings.params.n_first,onChange:function(e){return i(Object(s.a)(Object(s.a)({},n),{},{algorithmSettings:Object(s.a)(Object(s.a)({},n.algorithmSettings),{},{params:Object(s.a)(Object(s.a)({},n.algorithmSettings.params),{},{n_first:Number(e.target.value)})})}))}}),Object(y.jsx)(yt.a,{label:"K factor after n first games",type:"number",value:n.algorithmSettings.params.k,onChange:function(e){return i(Object(s.a)(Object(s.a)({},n),{},{algorithmSettings:Object(s.a)(Object(s.a)({},n.algorithmSettings),{},{params:Object(s.a)(Object(s.a)({},n.algorithmSettings.params),{},{k:Number(e.target.value)})})}))}})]})})]}),Object(y.jsxs)(ge.a,{children:[Object(y.jsx)(L.a,{onClick:function(){return e.setEditMode(!1)},autoFocus:!0,children:"Cancel"}),Object(y.jsx)(L.a,{onClick:function(){e.handleChangeGame(n),e.setEditMode(!1)},variant:"outlined",children:"Update"})]})]})}var Ct=a(205),wt=a(289),St=a(570),Rt=a(571),Nt=a(282),Dt=a(283),Pt=a(134),Ft=a(130),Et=a(572);function It(e){var t,a=function(e,t){var a={},n={};return e.forEach((function(e){t&&e.uuid===t?(a[e.uuid]=1,n[e.uuid]=4):t?(a[e.uuid]=.7,n[e.uuid]=2):(a[e.uuid]=1,n[e.uuid]=2)})),{opacity:a,width:n}},r=Object(n.useState)(a(e.game.players,"")),i=Object(u.a)(r,2),c=i[0],s=i[1],o=function(t,a,n){var r=t.playersRank.filter((function(e){return e.playerUuid===a}))[0],i=Q(e.players,a);if(n){var c=r.deltaScore<0?"#FF2020":"#10FFB0",s=r.deltaScore<0?"".concat(Math.round(r.deltaScore)):"+".concat(Math.round(r.deltaScore));return Object(y.jsxs)(z.a,{container:!0,item:!0,direction:"row",justify:"space-between",alignContent:"center",alignItems:"baseline",children:[Object(y.jsx)(z.a,{item:!0,xs:5,children:Object(y.jsx)(ht.a,{label:i.username,style:{backgroundColor:i.color,color:"#FFFFFF"}})}),Object(y.jsx)(z.a,{item:!0,xs:3,children:Math.round(r.score)}),Object(y.jsxs)(z.a,{item:!0,xs:1,style:{color:c},children:["(",s,")"]})]},i.uuid)}return Object(y.jsxs)(z.a,{container:!0,item:!0,direction:"row",justify:"space-between",alignContent:"center",alignItems:"baseline",children:[Object(y.jsx)(z.a,{item:!0,xs:5,children:Object(y.jsx)(ht.a,{label:i.username,variant:"outlined",style:{borderColor:i.color}})}),Object(y.jsx)(z.a,{item:!0,xs:3,children:Math.round(r.score)}),Object(y.jsx)(z.a,{item:!0,xs:1})]},i.uuid)},l=function(t,a){var n=e.game.rankHistory.filter((function(e){return e.resultUuid===t.uuid}))[0],r=[],i=[];return t.ranks.forEach((function(e){return r.push(e.uuid)})),e.game.players.filter((function(e){return r.indexOf(e.uuid)<=-1})).forEach((function(e){return i.push(e.uuid)})),[r.map((function(e){return o(n,e,!0)})),i.map((function(e){return o(n,e,!1)}))]};return e.game.rankHistory.length&&e.game.players.length?Object(y.jsx)("div",{style:{width:"100%"},children:Object(y.jsx)(St.a,{width:"100%",height:400,children:Object(y.jsxs)(Rt.a,{height:400,data:ne(e.game.rankHistory),margin:{top:20,right:20,left:20,bottom:20},children:[Object(y.jsx)(Nt.a,{dataKey:"resultUuid",tick:!1}),Object(y.jsx)(Dt.a,{yAxisId:1,domain:["dataMin - 50","dataMax + 50"]}),Object(y.jsx)(Pt.a,{content:function(t){var a=t.active,n=t.payload,r=t.label;return a&&n&&n.length&&r?Object(y.jsxs)(Ct.a,{variant:"outlined",style:{paddingTop:Ht.spacing(2),paddingBottom:Ht.spacing(2),paddingLeft:Ht.spacing(2),paddingRight:Ht.spacing(4)},children:[Object(y.jsx)(g.a,{children:r?X(e.game.results,r).date.toLocaleString():"Start"}),Object(y.jsx)(z.a,{container:!0,direction:"column",spacing:1,children:l(X(e.game.results,r))})]}):null}}),Object(y.jsx)(Ft.a,{verticalAlign:"top",content:function(){return Object(y.jsx)(z.a,{container:!0,direction:"row",justify:"flex-start",spacing:5,style:{paddingBottom:Ht.spacing(2)},children:e.game.rankHistory[e.game.rankHistory.length-1].playersRank.sort((function(e,t){return e.score<t.score?1:-1})).map((function(t,n){var r=Q(e.players,t.playerUuid);return Object(y.jsx)(z.a,{item:!0,onMouseEnter:function(){return n=t.playerUuid,void s(a(e.game.players,n));var n},onMouseLeave:function(){s(a(e.game.players,""))},children:Object(y.jsx)(bt.a,{title:r.username,children:Object(y.jsx)(Y.a,{overlap:"circle",style:{borderColor:"rgba(0,0,0,0)"},anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:Object(y.jsx)(pt,{rank:n+1,score:t.score,deltaScore:!1}),children:Object(y.jsx)(Ye.a,{alt:r.username,style:{backgroundColor:r.color},children:$(r)})})})},n)}))})}}),Object(y.jsx)(Et.a,{stroke:"#d5d5d5",strokeDasharray:"3 3"}),(t=e.game.players,t.map((function(t){return Object(y.jsx)(wt.a,{type:"natural",strokeWidth:c.width[t.uuid],strokeOpacity:c.opacity[t.uuid],dataKey:t.uuid,stroke:Q(e.players,t.uuid).color,yAxisId:1},t.uuid)}))).flat()]})})}):Object(y.jsx)(y.Fragment,{})}var _t=Object(b.a)((function(e){return Object(h.a)({Main:{padding:e.spacing(2),marginBottom:e.spacing(1),overflow:"visible",zIndex:150},Name:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),borderRadius:e.spacing(1),margin:"0px",border:"1px solid rgba(0,0,0,0.1)",width:e.spacing(17)}})}));function Gt(e){var t=_t(),a=r.a.useState({id:void 0,open:!1}),n=Object(u.a)(a,2),i=n[0],c=n[1],s=r.a.useState(e.edit),o=Object(u.a)(s,2),l=o[0],d=o[1],j=r.a.useState(!1),b=Object(u.a)(j,2),h=b[0],O=b[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(U.a,{className:t.Main,children:[Object(y.jsxs)(z.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch",spacing:1,children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"baseline",children:[Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(Z.a,{size:"medium",onClick:function(){return e.setCurrentGame({game:void 0,edit:!1})},children:Object(y.jsx)(ue.a,{})})})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsxs)(de.a,{disableElevation:!0,variant:"contained",color:"primary",children:[Object(y.jsx)(L.a,{endIcon:Object(y.jsx)(Xe.a,{}),onClick:function(){e.players.length<2?e.addNotification("You must add at least 2 players before","error"):c({id:void 0,open:!0})},children:"New result"}),Object(y.jsx)(L.a,{onClick:function(){return d(!0)},children:Object(y.jsx)(je.a,{})}),Object(y.jsx)(L.a,{onClick:function(){return O(!0)},children:Object(y.jsx)(Be.a,{})})]})})]})}),Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(g.a,{color:"primary",variant:"h3",align:"center",children:e.game.gamename})}),e.game.players&&Object(y.jsx)(z.a,{item:!0,children:Object(y.jsx)(It,{players:e.players,game:e.game})})]}),i.open?Object(y.jsx)(jt,{game:e.game,players:e.players,addResultOpen:i,setAddResultOpen:c,addNotification:e.addNotification,addResult:function(t,a){var n=Object.assign({},e.game);if(n.results?a&&(n.results=n.results.filter((function(e){return e.uuid!==a}))):n.results=[],n.results.push(t),n.players=ce(n),n.rankHistory=ee(n),n.players){var r=n.players.sort((function(e,t){return e.rank>t.rank?1:-1}));n.players=r}e.changeGameData(n,e.game.uuid)},deleteResult:function(t){var a=Object.assign({},e.game);a.results=a.results.filter((function(e){return e.uuid!==t})),a.players=ce(a),a.rankHistory=ee(a),e.addNotification("Result correctly deleted","success"),e.changeGameData(a,e.game.uuid)}}):Object(y.jsx)(y.Fragment,{})]}),Object(y.jsx)(z.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch",spacing:1,children:function(){if(e.game.results)return e.game.results.sort((function(e,t){return e.date<t.date?1:-1})).map((function(t){var a=e.game.rankHistory.filter((function(e){return e.resultUuid===t.uuid}))[0].playersRank;return Object(y.jsx)(ft,{result:t,players:e.players,setAddResultOpen:c,playersRank:a})}))}()}),h&&Object(y.jsx)(xt,{setDeleteGameOpen:O,deleteGame:function(){e.addNotification("Game correctly deleted","success"),O(!1),e.deleteGame(e.game.uuid)}}),l&&Object(y.jsx)(kt,{setEditMode:d,handleChangeGame:function(t){var a=Object.assign({},t);if(a.rankHistory=ee(a),a.players){var n=a.players.sort((function(e,t){return e.rank>t.rank?1:-1}));a.players=n}e.changeGameData(a,e.game.uuid)},currentGame:e.game})]})}function Mt(e){var t,a=Object(n.useState)({game:void 0,edit:!1}),r=Object(u.a)(a,2),i=r[0],c=r[1],s=function(t,a){var n=e.games;n.map((function(e){return e.uuid===a?Object.assign(e,t):e})),e.setGames(n)};return Object(y.jsx)(B.a,{children:i.game?Object(y.jsx)(Gt,{game:i.game,edit:i.edit,changeGameData:s,setCurrentGame:c,players:e.players,addNotification:e.addNotification,deleteGame:function(t){var a=e.games.filter((function(e){return e.uuid!==t}));c({game:void 0,edit:!1}),e.setGames(a),e.addNotification("Game correctly deleted","success")}}):Object(y.jsxs)(z.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",spacing:1,children:[Object(y.jsx)(Ze,{games:e.games,setGames:e.setGames,setCurrentGame:c}),(t=e.games,t.map((function(t){return Object(y.jsx)(Qe,{game:t,changeGameData:s,setCurrentGame:c,players:e.players})})))]})})}function At(e){return function(e){switch(e.currentPage){case"players":return Object(y.jsx)(ke,{players:e.players,games:e.games,setPlayers:e.setPlayers,addNotification:e.addNotification});case"settings":return Object(y.jsx)(Ke,{handlerSaveData:e.handlerSaveData,handlerLoadData:e.handlerLoadData,handlerResetData:e.handlerResetData});case"games":return Object(y.jsx)(Mt,{games:e.games,setGames:e.setGames,players:e.players,addNotification:e.addNotification});default:return Object(y.jsx)(y.Fragment,{})}}(e)}var Bt=a(582),zt=a(577);function Ut(e){return Object(y.jsx)(zt.a,Object(s.a)({elevation:6,variant:"filled"},e))}function Lt(e){var t=function(t,a){"clickaway"!==a&&e.setNotification({open:!1})};return e.notification.open?Object(y.jsx)(Bt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e.notification.open,autoHideDuration:6e3,onClose:t,children:Object(y.jsx)(Ut,{severity:e.notification.severity?e.notification.severity:"info",onClose:t,children:e.notification.text})}):Object(y.jsx)(y.Fragment,{})}var Ht=Object(j.a)({palette:{error:{main:"#DD0505"},primary:{main:"#3f5efb"},secondary:{main:"#d2d2d2"}}}),Kt=Object(b.a)((function(e){return Object(h.a)({App:{paddingBottom:e.spacing(15)}})}));var Tt=function(){var e=r.a.useState("games"),t=Object(u.a)(e,2),n=t[0],i=t[1],c=r.a.useState([]),o=Object(u.a)(c,2),j=o[0],b=o[1],h=r.a.useState([]),m=Object(u.a)(h,2),p=m[0],g=m[1],f=r.a.useState({open:!1}),x=Object(u.a)(f,2),v=x[0],C=x[1],w=Kt(),S=function(e,t){C({open:!0,text:e,severity:t||void 0})},R={currentPage:n,games:p,setGames:g,players:j,setPlayers:b,handlerSaveData:function(e){var t=JSON.stringify({players:j,games:p.map((function(e){return{uuid:e.uuid,gamename:e.gamename,results:e.results,algorithmSettings:e.algorithmSettings}}))});if(e)try{localStorage.setItem("data",t),S("Data saved as cookies","success")}catch(i){S("Error when saving as cookies","error")}else{var n=a(485),r=new Blob([t],{type:"application/json"});n.saveAs(r,"save_game-ranking.json")}},handlerLoadData:function(e){if(e)try{var t;e.preventDefault();var a=new FileReader;a.onload=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(a=t.target)||void 0===a?void 0:a.result)&&(n=JSON.parse(t.target.result),b(n.players),r=n.games.map((function(e){return ie(e)})),g(r),S("Data correctly loaded","success"),i("games"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(null===(t=e.target)||void 0===t?void 0:t.files)&&a.readAsText(e.target.files[0])}catch(c){S("Error when loading data","error")}else if(localStorage.getItem("data")){var n=JSON.parse(localStorage.getItem("data"));b(n.players);var r=n.games.map((function(e){return ie(e)}));g(r),S("Data correctly loaded","success"),i("games")}else S("Data not found in cookies","warning")},handlerResetData:function(e){e?(localStorage.removeItem("data"),S("Cookie correctly removed","success")):(b([]),g([]),S("Current session correctly reinitiliazed","success"))},addNotification:S},N={handleChangeCurrentPage:function(e,t){i(t)},currentPage:n},D={notification:v,setNotification:C};return Object(y.jsxs)(O.a,{theme:Ht,children:[Object(y.jsxs)("div",{className:w.App,children:[Object(y.jsx)(k,{}),Object(y.jsx)(At,Object(s.a)({},R)),Object(y.jsx)(A,Object(s.a)({},N))]}),Object(y.jsx)(Lt,Object(s.a)({},D))]})};c.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(Tt,{})}),document.getElementById("root"))}},[[486,1,2]]]);
//# sourceMappingURL=main.5240c4d4.chunk.js.map